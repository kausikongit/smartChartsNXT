<!DOCTYPE html>
<html lang="en">
<head>
  <title>Example of Basic Area Chart</title>
  <script src="/smartChartsNXT/public/smartChartsNXT.bundle.js" type="text/javascript"></script>
  <script>
    var _debug = false; 
	  function getData(n) {
      var arr = [], i, x, a, b, c, spike;
      for (i = 0, x = Date.UTC(new Date().getUTCFullYear(), 0, 1) - n * 36e5; i < n; i = i + 1, x = x + 36e5) {
        if (i % 100 === 0) {
          a = 2 * Math.random();
        }
        if (i % 1000 === 0) {
          b = 2 * Math.random();
        }
        if (i % 10000 === 0) {
          c = 2 * Math.random();
        }
        if (i % 50000 === 0) {
          spike = 10;
        } else {
          spike = 0;
        }
        arr.push({
          label: x, 
          value: 2 * Math.sin(i / 100) + a + b + c + spike + Math.random()
        });
      }
      return arr;
    }
    function generateData(x, y, count) {
      var dataSet = [];
      for (var i = 0; i < count; i++) {
        var newDate = new Date();
        newDate.setDate(newDate.getDate() + i);
        var datum = Math.round(Math.random() * (y + i / x)) + 10 + i;
        dataSet.push({
          label: i+1, //newDate,//'k-'+(i+1),//newDate.getDate() + "-" + (newDate.getMonth() + 1) + "-" + newDate.getFullYear(),
          value: (i % 4 === 0 ? -1 : 1 ) * datum
        });
      }
      return dataSet;
    }

    window.onload = function () {
      SmartChartsNXT.ready(function () {
        var areaChart = new SmartChartsNXT.Chart({
          "type": "AreaChart",
          "title": "Series Area Chart",
          "subtitle": "Sales report of company XYZ",
          "description": "A javascript area chart that visualize the data of sales",
          "targetElem": "chartContainer",
          "titleStyle": {
            "fillColor":"#717171",
            "borderColor":"none",
            "fontFamily": "Lato",
            "maxFontSize": 25
          },
          "subtitleStyle": {
            "fillColor":"#717171",
            "borderColor":"none",
            "fontFamily": "Lato",
            "maxFontSize": 12
          },
          "canvasBorder": false,
          "bgColor": "#f7fdf7", //[default: white]
          // "gridBox": {  // : TODO
          //   "vertical": {
          //     "style": "dashed", //[dashed | solid]
          //     "gridColor": "#000",
          //     "axisColor" : "#000",
          //     "lineWidth": 1,
          //     "opacity": 1
          //   },
          //   "horizontal": {
          //     "style": "dashed", //[dashed | solid]
          //     "gridColor": "#000",
          //     "axisColor" : "#000",
          //     "lineWidth": 1,
          //     "opacity": 1
          //   },
          //  "backgroundColor": '#555',
          //  "backgroundGradient": true
          // },
          "pointerCrosshair": {
            "vertical": {
              "style": "dashed",  // [dashed | solid]
              "spread" : "full",  // [full | inPoint | none]
              "color": "#000",
              "lineWidth": 1,
              "opacity": 1
            },
            "horizontal": {
              "style": "dashed",  // [dashed | solid]
              "spread" : "none", // [full | inPoint | none]
              "color": "#000",
              "lineWidth": 1,
              "opacity": 1
            }
          },
          "legends":{
            "enable" : true,
            "alignment": "horizontal",
            "color": "#000",
            "bgColor": "none",
            "opacity": 0.9,
            "toggleType": true,
            // "onLegendClick": function() {console.log("onClick-",this)},
            // "onLegendHover": function() {console.log("onHover-",this)},
            // "onLegendLeave": function() {console.log("onLeave-",this)}
          },
          "tooltip": {
            "content": function() {
              return '<table>' +
                '<tbody>' +
                  '<tr style="background-color: #aaa; font-size: 14px; text-align: left; color: #FFF;">' +
                    '<th colspan="2" style="padding: 2px 5px; ">' + this[0].formattedLabel + '</th>' +
                  '</tr>' +
                    this.map(function(point) {
                      return '<tr>' + 
                          '<td style="font-size: 13px; padding: 3px 6px; background-color: #fff;">' +
                            '<span style="background-color:' + point.seriesColor +'; display:inline-block; width:10px; height:10px;margin-right:5px;"></span>' + point.seriesName + '</td>' +
                          '<td style="font-size: 13px; padding: 3px 6px; background-color: #fff;">'+ point.value + '</td>' +
                        '</tr>';
                    }).join('') +
                '</tbody>' +
              '</table>';
            },
            "xPadding": 3,
            "yPadding": 3,
          },
          "horizontalScroller": {
            "enable": true,
            "height": 35,
            "chartInside": true
          },
          "dataSet": {
            "xAxis": {
              "title": "Date",
              "prefix": "",
              "parseAsDate": false,
              "dateFormat": "dd mmm",
              //"labelRotate": -45,
              "intervalThreshold": 40,
              "tickOpacity": 1,
              "tickColor": '#222',
              "tickSpan": 6,
              "labelOpacity": 1,
              "labelColor": "#000",
              "fontSize": 12,
              "fontFamily": "Lato"
            },
            "yAxis": {
              "title": "Total Sales",
              "prefix": "Rs. ",
              "labelRotate": 0,
              "tickOpacity": 1,
              "tickColor": '#222',
              "tickSpan": 5,
              "labelOpacity": 1,
              "labelColor": "#000",
              "fontSize": 20,
              "fontFamily": "Lato",
              "zeroBase": false, // min label of y-axis always stick to zero if all value are positive and max label of y-axis always sitick to zero if all value are negative.
            },
            "series": [{
              "lineWidth": 1.5,
              "bgColor": "#009688",
              "marker": true,
              "markerRadius": 6,
              "spline": false,
              "gradient": true,
              "areaOpacity": 0.5,
              "lineOpacity": 1,
              "name": 'Willson',
              //"visible": false,
              "data":generateData(5, 20, 10000) //[{label:1, value:10}, {label:2, value:20},{label:3, value:20}, {label:4, value:30},{label:5, value:40}]
            }]
          },
          // events: {
          //   beforeRender: function (e) {
          //     console.log(e, "event before rendering");
          //   },
          //   afterRender: function (e) {
          //     console.log(e, "event after rendering complete");
          //   },
          //   onInit: function (e) {
          //     console.log(e, "event onInit");
          //   },
          //   afterParseData: function (e) {
          //     console.log(e, "event afterParseData");
          //   },
          //   beforeSave: function (e) {
          //     console.log(e, "event beforeSave");
          //   },
          //   afterSave: function (e) {
          //     console.log(e, "event afterSave");
          //   },
          //   beforePrint: function (e) {
          //     console.log(e, "event beforePrint");
          //   },
          //   afterPrint: function (e) {
          //     console.log(e, "event afterPrint");
          //   }
          // },
          // zoomWindow: {
          //   "leftIndex": 1,
          //   "rightIndex": 1000
          // }
        });

        /** add event listner on Horizontal scroll **/
        //areaChart.events.on('hScroll', function(e) {console.log(e)});
        // areaChart.events.on('beforeSave', () => {console.log('before save!');});
        // areaChart.events.on('afterSave', () => {console.log('after save!');});
        // areaChart.events.on('beforePrint', () => {console.log('before print!');});
        // areaChart.events.on('afterPrint', () => {console.log('after print!');});
      });
    };
  </script>
</head>
<!-- overflow:hidden; -->
<body style='background: rgb(132, 206, 255);'>
  <div>
    <div id='chartContainer' style="width:100%; height:600px;">
    </div>
  </div>
</body>

</html>
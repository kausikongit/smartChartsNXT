<!DOCTYPE html>
<html lang="en">
<head>
  <title>Example of Multi Series Area Chart</title>
  <script src="/smartChartsNXT/build/smartChartsNXT.bundle.js" type="text/javascript"></script>
  <script>
    var browserData = []; 
    fetch('./data/browser-usage-data-small.json')
      .then(function (response) {
        return response.json();
      })
      .then(function (data) {
        // browserData = data.filter((v, i) => {
        //   if(i === 15  || i > 24) {
        //     return true;
        //   }
        // });
        browserData = data;
      });
  </script>

  <script>
    let areaChart;
    window.onload = function () {
      SmartChartsNXT.debug = false;
      //SmartChartsNXT.COLOR_MODEL = SmartChartsNXT.RAINBOW_COLOR_MODEL;
      SmartChartsNXT.ready(function () {
        areaChart = new SmartChartsNXT.Chart({
          "type": $SC.CHART_TYPE.AREA_CHART,
          "targetElem": "chartContainer",
          "description": "Browser Market Share Worldwide from June-2018 to June-2019",
          "title": {
            "text":"Browser Market Share Worldwide", // [ default : "" ]
            "top": 20,                            // [ default : 20]  x % value accepted
            "left": "50%",                        // [ default : 50%] x % value accepted
            "width": "90%",                       // [ default : 90%] x % value accepted
            "height": "",                         // [ default : ""]  x % value accepted
            "textAlign": "center",                // [ left | default: center | right ]
            "textColor": "#064685",               // [ default : theme.fontColorDark ]
            "borderColor":"none",                 // [ default : none ]
            "fontFamily": "Lato",                 // [ default : Lato ]
            "bgColor": "none",                    // [ default : none ]
            "padding": 0,                         // [ default : 0 ]
            "fontSize": 20,                       // [ default : theme.fontSizeLarge ]
            "style": {
              "opacity": 1.0                      // Support any style other than available config property. Must be a json object.
            },
            "responsive": {
              "wrapText": true,                   // [ default: true | false ]
            }
          },
          "subtitle": {
            "text": "June 2018 - June 2019",      // [ default : "" ]
            "top": 50,                            // [ default : 50]  x % value accepted
            "left": "50%",                        // [ default : 50%] x % value accepted
            "width": "95%",                       // [ default : 95%] x % value accepted
            "height": "",                         // [ default : ""]  x % value accepted
            "textAlign": "center",                // [ left | default: center | right ]
            "textColor": "#064685",               // [ default : theme.fontColorDark ]
            "borderColor":"none",                 // [ default : none ]
            "fontFamily": "Lato",                 // [ default : Lato ]
            "bgColor": "none",                    // [ default : none ]
            "padding": 0,                         // [ default : 0 ]
            "fontSize": 12,                       // [ default : theme.fontSizeSmall ]
            "style": {
              "opacity": 1.0                      // Support any style other than available config property. Must be a json object.
            },
            "responsive": {
              "wrapText": true,                   // [ default: true | false ]
              "reducer": function(chartWidth, chartHeight) {
                // support reducer same as title property
              }
            }
          },
          "canvasBorder": false,
          "bgColor": "#f7fdf7",                         // [default: white]
          "gridBox": {
            "vertical": {
              "enable": true,                           //[default: true | false]
              "lineStyle": $SC.ENUMS.LINE_STYLE.DASHED, //[LINE_STYLE.SOLID | default: LINE_STYLE.DASHED]
              "lineColor": "#000",                      //[$SC.theme.bgColorMedium]
              "lineThickness": 1,                       //[default: 1]
              "lineOpacity": 0.2                        //[default: 0.2]
            },
            "horizontal": {
              "enable": true,                           //[default: true | false]
              "lineStyle": $SC.ENUMS.LINE_STYLE.SOLID,  //[default: LINE_STYLE.SOLID | LINE_STYLE.DASHED]
              "lineColor": "#000",                      //[$SC.theme.bgColorMedium]
              "lineThickness": 1,                       //[default: 1]
              "lineOpacity": 0.2                        //[default: 0.2]
            },
           "bgColor": 'skyblue',                        //[default: none]
           "bgGradient": $SC.ENUMS.GRADIENT_STYLE.LINEAR_VERTICAL, //[default: none]
           "bgOpacity": 0.2                             //[default: 0.1]   
          },
          "pointerCrosshair": {
            "vertical": {
              "style": $SC.ENUMS.LINE_STYLE.DASHED, // [LINE_STYLE.SOLID | default: LINE_STYLE.DASHED]
              "spread" : "full",              // [default: full | inPoint | none]
              "lineColor": "#000",            // [default: #000]
              "lineWidth": 1,                 // [default: 1]
              "lineOpacity": 1,               // [default: 1]
              "labelTextColor": "#fff",       // [default: #fff]
              "labelBackgroundColor":"#000",  // [default: #000]
              "labelOpacity": 1               // [default: 1]
            },
            "horizontal": {
              "style": $SC.ENUMS.LINE_STYLE.DASHED, // [LINE_STYLE.SOLID | default: LINE_STYLE.DASHED]
              "spread" : "none",                    // [full | inPoint | default: none]
              "lineColor": "#000",                  // [default: #000]
              "lineWidth": 1,                       // [default: 1]
              "lineOpacity": 1,                     // [default: 1]
              "labelTextColor": "#fff",             // [default: #fff]
              "labelBackgroundColor":"#000",        // [default: #000]
              "labelOpacity": 1                     // [default: 1]
            }
          },
          "legends":{
            "enable" : true,                              // [ default: true | false ]
            "top": 70,                                    // [ default: 70 ]
            "left": 100,                                  // [ default: 100 ]
            "maxWidth": "90%",                            // [ default : 100%] x % value accepted. Only applicable when display inline.
            "alignment": $SC.ENUMS.ALIGNMENT.HORIZONTAL,  // [ default: ALIGNMENT.HORIZONTAL | ALIGNMENT.VERTICAL ]
            "display": $SC.ENUMS.DISPLAY.INLINE,          // [ default: DISPLAY.INLINE | DISPLAY.BLOCK] Note: block will take entire row but inline only take space as much required
            "float": $SC.ENUMS.FLOAT.NONE,                // [ FLOAT.TOP | FLOAT.BOTTOM | FLOAT.LEFT | FLOAT.RIGHT | default: FLOAT.NONE ]
            "textColor": "#000",                          // [ default: theme.fontColorDark ]
            "bgColor": "none",                            // [ default: none ]
            "hoverColor":"none",                          // [ default: none ]
            "fontSize": 14,                               // [ default: theme.fontSizeMedium ]
            "fontFamily": "Lato",                         // [ default: Lato ]
            "itemBorderWidth": 1,                         // [ default: 1 ]
            "itemBorderColor": "#000",                    // [ default: #000 ]
            "itemBorderOpacity": 1,                       // [ default: 1 ]
            "itemBorderRadius": 10,                       // [ default: 10 ]
            "borderColor": "none",                        // [ default: none ]
            "borderWidth": 1,                             // [ default: 1 ]
            "borderOpacity": 1,                           // [ default: 1 ]
            "opacity": 0.9,                               // [ default: 0.9 ]
            "toggleType": true,                           // [ default: true | false ]
            "hideIcon": false,                            // [ true | default: false ]
            "hideLabel": false,                           // [ true | default: false ]
            "hideValue": false                            // [ true | default: false ]
          },
          "tooltip": {
            "enable": true,                   // [default: true | false ]
            "followPointer": false,           // [true | default: false ] Note: This option only available when tooltip are grouped.
            "grouped": false,                 // [default: true | false ]
            "pointerVicinity": 15,            // [default: 20] Note: It's an area surrounding marker point where tooltip get visible if mouse pointer entered.
            "content": {
              "header": function(pointSet, index, tipConfig) {
                return (
                  `<p style="background-color:${tipConfig.headerBgColor || "#555"}; font-size: 18px; text-align: left; color: ${tipConfig.headerTextColor || "#fff"};margin:0;padding: 5px 5px;">
                    ${pointSet[index].formattedLabel}
                  </p>`
                );
              },
              "body": function(pointSet, index, tipConfig) {
                let point = pointSet[index];
                return (
                  `<tr  style="font-size: ${tipConfig.fontSize || 14}px; padding: 3px 6px; color:${tipConfig.textColor || "#000"};">
                    <td>
                      <span style="background-color:${point.seriesColor}; display:inline-block; width:10px; height:10px;margin-right:5px;"></span>${point.seriesName}
                    </td>
                    <td>${point.value}</td>
                  </tr>`
                );
              }
            },
            "headerTextColor": "greenyellow",   // [ default: #fff ]
            "headerBgColor": "#555",            // [ default: #555 ]
            "textColor": "#000",                // [ default: #000 ]
            "bgColor": "#e8f4f8",               // [ default: #fff ]
            "footerTextColor": "#000",          // [ default: #fff ]
            "footerBgColor": "#d4ebf2",         // [ default: #555 ]
            "fontSize": 14,                     // [ default: 14 ]
            "fontFamily": "Lato",               // [ default: Lato ]
            "xPadding": 0,                      // [ default: 0 ] 
            "yPadding": 0,                      // [ default: 0 ] 
            "borderColor": "none",              // [ default: point.seriesColor ]
            "borderWidth": 2,                   // [ default: 3 ]
            "opacity": 0.8,                     // [ default: 0.8 ]
          },
          "horizontalScroller": {
            "enable": true,
            "height": 35,
            "chartInside": true
          },
          "dataSet": {
            "xAxis": {
              "title": "Month",
              "prepend": "",
              "append": "",
              "parseAsDate": true,
              "dateFormat": "mmm - yyyy",
              "labelRotate": -45,
              "intervalThreshold": 40,
              "tickOpacity": 1,
              "tickColor": '#222',
              "tickSpan": 6,
              "labelOpacity": 1,
              "labelColor": "#000",
              "axisColor": "#000", // TODO
              "fontSize": 12,
              "fontFamily": "Lato"
            },
            "yAxis": {
              "title": "Usage %",
              "prepend": "",
              "append": " %",
              "labelRotate": 0,
              "tickOpacity": 1,
              "tickColor": '#222',
              "tickSpan": 5,
              "labelOpacity": 1,
              "labelColor": "#000",
              "axisColor": "#000", // TODO
              "fontSize": 14,
              "fontFamily": "Lato",
              "zeroBase": false, // min label of y-axis always stick to zero if all value are positive and max label of y-axis always sitick to zero if all value are negative.
            },
            "series": browserData
          },
        });
      });
    };
  </script>
</head>
<!-- overflow:hidden; -->
<body style='background: bisque;'>
  <div>
    <div id='chartContainer' style="width:100%; height:600px;">
    </div>
  </div>
</body>

</html>